# 时间序列的平稳性

本文旨在对平稳性的概念以及常出现在时间序列分析相关文献中的不同类型的平稳性提供简明而全面的概述。

!!! 说明
    本文由[面向问题编程](https://www.heapoverflow.cn/)翻译自[Stationarity in time series analysis](https://towardsdatascience.com/stationarity-in-time-series-analysis-90c94f27322). 
    
## 为什么平稳性很重要？

在深入了解平稳性的正式定义及其所依赖的相关概念之前，值得考虑一下为什么平稳性概念在时间序列分析及其各种应用中如此重要。

在最直观的意义上，平稳性意味着生成时间序列的过程的统计属性不会随着时间而改变. 这并不意味着序列不会随着时间而改变，
只是它改变的方式本身不会随着时间而改变。作为类比，一个线性函数的值随着 𝒙 的增长而变化，但它的变化方式保持不变——它有一个恒定的斜率。

为什么这很重要？首先，因为**平稳过程**（stationary processes）更容易分析（我们还没有对生成时间序列数据的**过程**进行正式定义，它们被称为**随机过程**（stochastic processes ），我们稍后会介绍）。
很明显，平稳过程是更广泛的现实中可能出现的模型的子集. 这个子集更容易建模和研究。上述非正式定义还暗示此类过程应该可以预测，因为它们的变化方式是可以预测的。

## 随机过程的正式定义

!!! 说明
    关于随机过程的更通俗的解释，可以参阅知乎[如何深刻地理解随机过程的含义？](https://www.zhihu.com/question/26694486/answer/2182470085)

在引入更正式的平稳性定义之前，需要了解一些其它概念。本节旨在提供进一步阅读所需的时间序列分析和随机过程理论的基本概念的快速概述。

**时间序列**：通常，时间序列(x₁ ,..., xₑ)被定义为在连续的等间隔（也有不要求等间隔的定义）时间点（从时间t=1到时间t=e ）获取的实数值序列。

**Lag**：对于某个特定的时间点r，xᵣ₋ᵢ 称为xᵣ的i-th lag。通过将另一个时间序列X往后移动i个时间步而生成的时间序列Y称为X的i-th lag。这种变换称为后移算子（backshifting operator），通常表示为B (∙) 或 lag算子，通常表示为L( ∙ )，
L (Xᵣ) = Xᵣ₋₁ 。lag算子的i次幂定义为Lⁱ(Xᵣ) = Xᵣ₋ᵢ。

分析时间序列数据的常用方法是将观察到的时间序列视为随机过程的realization（实现）。在定义随机过程之前需要两个粗略的定义。

**概率空间**：概率空间是一个三元组(Ω, F, P)，其中

- (i) Ω是一个非空集合，称为样本空间。
- (ii) F是Ω的子集的 [**σ-代数**](https://www.zhihu.com/question/36392820)。
- (iii) P是为F的所有元素定义的概率测度。

**随机变量**：(Ω,F,P)上的实随机变量是一个函数x:Ω→ ℝ，使得任意区间(-∞,a]的逆像都属于F；即可测函数。


现在我们可以定义什么是随机过程了。

**随机过程**：实随机过程是一组实随机变量𝑿= {x ᵢ (ω); i ∈ T}，它们都定义在同一个概率空间(Ω, F, P)上。集合T称为过程的索引集。
如果T ⊂ℤ，则该过程称为离散随机过程。如果T是 ℝ 上的区间，则该过程称为连续随机过程。

**有限维分布**：对于有限的整数集 T ={t₁, …,tn}，𝑿= {Xᵢ (ω) 的联合分布函数；i ∈ T}定义为

![联合分布函数](/timeseries/assets/images/stationary/1.png)

对于随机过程𝑿通常也表示为：

![随机过程 联合分布函数](/timeseries/assets/images/stationary/2.png)

离散随机过程的有限维分布定义为：（随机过程中任意n个随机变量的联合分布的集合）

![随机过程的有限维分布](/timeseries/assets/images/stationary/3.png)

## 平稳性的定义

有了随机过程的基本定义，我们现在可以引入平稳性的概念。
直观地说，平稳性意味着过程的统计特性不会随时间而改变。然而，多年来，计量经济学文献中提出了几种不同的平稳性概念。

在深入研究这些定义之前要做出的一个重要区别是，任何类型的平稳性都是随机过程的属性，而不是任何有限或无限的realization的属性（即值的时间序列）。

### 强平稳性

强平稳性要求随机过程的有限维分布具有平移不变性（在时间上）。
这意味着随机过程的随机变量的有限子序列的分布在我们沿时间索引轴移动时保持不变。
例如，所有iid（独立同分布）随机过程都是平稳的。

形式上，离散随机过程𝑿= {x ᵢ ; i∈ℤ}是平稳的，如果

对于T ⊂ ℤ与n ∈ℕ 和任何 τ∈ ℤ，有

![平稳性条件](/timeseries/assets/images/stationary/4.png)

[Cox & Miller, 1965] 对于连续随机过程，条件类似，用T ⊂ℝ、n ∈ℕ 和任何 τ∈ℝ 代替。

这是平稳性最常见的定义，通常简称为平稳性。它有时也被称为强平稳性。


### 弱平稳性

弱平稳性只要求均值和协方差（auto-covariance）具有平移不变性。这意味着该过程在所有时间点具有相同的均值，并且任何两个时间点t和t-k的值之间的协方差仅取决于k。

形式上，过程{x ᵢ ; i∈ℤ}是弱平稳的，如果：

- x ᵢ 的一阶矩是常数；即∀t，E[ xᵢ ]=𝜇
- xᵢ的二阶矩对于所有t都是有限的；即∀t, E[x ᵢ ²]<∞（这当然也意味着E[(x ᵢ -𝜇)²]<∞ ; 即方差对于所有t都是有限的）
- 交叉矩 — 即自协方差 - 仅取决于u和v的差；即∀u,v,a, cov(xᵤ, xᵥ)=cov(xᵤ₊ₐ, xᵥ₊ₐ)

第三个条件意味着每个lag 𝜏 ∈ ℕ 都有一个与之相关的常数协方差值：

![常数协方差值](/timeseries/assets/images/stationary/5.png)

请注意，这直接意味着过程的方差也是恒定的，因为我们得到所有 t ∈ ℕ

![恒定方差](/timeseries/assets/images/stationary/6.png)


![均值和方差平稳性](/timeseries/assets/images/stationary/7.png)


!!! 注意
    弱平稳性的其他常见名称是广义平稳性、协方差平稳性和二阶平稳性。令人困惑的是，它有时也被简称为平稳性，具体取决于上下文
    
!!! 说明
    均值为零，方差恒定且有限的过程称为白噪声过程。 特别的， 如果每个变量 xᵢ 服从均值为零且方差σ²相同的正态分布，则该过程称为高斯白噪声过程。

### 循环平稳性

如果任何样本集的联合分布在 mP 的时间偏移上是不变的，则随机过程是循环平稳（Cyclostationarity）的，其中m ∈ ℤ， P∈ℕ 是过程的周期：

![循环平稳性的条件](/timeseries/assets/images/stationary/8.png)


### 趋势平稳性

如果一个随机过程可以去除趋势（时间的函数）后，剩下部分是平稳的， 则该随机过程是趋势平稳的（trend stationary）。

意思是，这个过程可以表示为yᵢ= f(i) + εᵢ，其中f(i)是任何函数f :ℝ→ℝ  并且εᵢ 是一个均值为 0 的平稳随机过程。

